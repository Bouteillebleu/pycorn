OBJS := main.o getpath.o frozen.o
OBJECTS := $(OBJS) $(ROOT)/libs/python/targetpy/libpython2.5.a
LIBS := -lm

$(phony all): pykern.flash

$(OBJS): $(ROOT)/libs/python/stamp-include

frozen.c: frozen/**/*.py freeze.py
	cd frozen; python ../freeze.py $(relative_to $(wildcard frozen/**/*.py),frozen)
	&mv frozen/frozen.c $(output)

include common.mk

CFLAGS += -I$(ROOT)/libs/python/include
